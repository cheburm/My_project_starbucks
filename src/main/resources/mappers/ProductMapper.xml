<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.springboot.starbucks.domain.admin.ProductRepository">

<select id="getProductByProductCategoryName" parameterType="String" resultType="com.springboot.starbucks.domain.admin.Product">
	select
		pi.product_code,
		product_categoryName,
		product_name,
		product_price,
		product_img
	from
		product_categorys pc
		LEFT outer join product_info pi on(pi.product_code = pc.product_code)
	where
		pc.product_categoryName = #{productCategoryName};
</select>

<select id="getProductByProductCategoryAll" parameterType="String" resultType="com.springboot.starbucks.domain.admin.Product">
	select
		pi.product_code,
		product_categoryName,
		product_name,
		product_price,
		product_img
	from
		product_categorys pc
		LEFT outer join product_info pi on(pi.product_code = pc.product_code)
	group by 
		product_name;
</select>

<select id="getProductByProductDtl" parameterType="Integer" resultType="com.springboot.starbucks.domain.admin.Product">
	select
		pi.product_name,
		pi.product_price,
		pi.product_img,
		pdi.product_introduction_img
	from
		product_info pi
		LEFT OUTER JOIN productdtl_info pdi ON(pi.product_code = pdi.product_code)
	where
		pi.product_code = #{product_code};
</select>

</mapper>











